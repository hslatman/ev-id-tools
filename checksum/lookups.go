package checksum

var (
	// precomputed lookups as described in Check Digit Calculation for Contract-IDs:
	// http://www.ochp.eu/wp-content/uploads/2014/02/E-Mobility-IDs_EVCOID_Check-Digit-Calculation_Explanation.pdf
	alpha   map[string][4]int
	reverse map[int]string
	p1      [15][4]int
	p2      [15][4]int
)

func init() {
	alpha = map[string][4]int{
		"0": {0, 0, 0, 0},
		"1": {0, 0, 0, 1},
		"2": {0, 0, 0, 2},
		"3": {0, 0, 1, 0},
		"4": {0, 0, 1, 1},
		"5": {0, 0, 1, 2},
		"6": {0, 0, 2, 0},
		"7": {0, 0, 2, 1},
		"8": {0, 0, 2, 2},
		"9": {0, 1, 0, 0},
		"A": {0, 1, 0, 1},
		"B": {0, 1, 0, 2},
		"C": {0, 1, 1, 0},
		"D": {0, 1, 1, 1},
		"E": {0, 1, 1, 2},
		"F": {0, 1, 2, 0},
		"G": {0, 1, 2, 1},
		"H": {0, 1, 2, 2},
		"I": {1, 0, 0, 0},
		"J": {1, 0, 0, 1},
		"K": {1, 0, 0, 2},
		"L": {1, 0, 1, 0},
		"M": {1, 0, 1, 1},
		"N": {1, 0, 1, 2},
		"O": {1, 0, 2, 0},
		"P": {1, 0, 2, 1},
		"Q": {1, 0, 2, 2},
		"R": {1, 1, 0, 0},
		"S": {1, 1, 0, 1},
		"T": {1, 1, 0, 2},
		"U": {1, 1, 1, 0},
		"V": {1, 1, 1, 1},
		"W": {1, 1, 1, 2},
		"X": {1, 1, 2, 0},
		"Y": {1, 1, 2, 1},
		"Z": {1, 1, 2, 2},
	}
	reverse = map[int]string{
		0:  "0",
		16: "1",
		32: "2",
		4:  "3",
		20: "4",
		36: "5",
		8:  "6",
		24: "7",
		40: "8",
		2:  "9",
		18: "A",
		34: "B",
		6:  "C",
		22: "D",
		38: "E",
		10: "F",
		26: "G",
		42: "H",
		1:  "I",
		17: "J",
		33: "K",
		5:  "L",
		21: "M",
		37: "N",
		9:  "O",
		25: "P",
		41: "Q",
		3:  "R",
		19: "S",
		35: "T",
		7:  "U",
		23: "V",
		39: "W",
		11: "X",
		27: "Y",
		43: "Z",
	}
	p1 = [15][4]int{
		{0, 1, 1, 1},
		{1, 1, 1, 0},
		{1, 0, 0, 1},
		{0, 1, 1, 1},
		{1, 1, 1, 0},
		{1, 0, 0, 1},
		{0, 1, 1, 1},
		{1, 1, 1, 0},
		{1, 0, 0, 1},
		{0, 1, 1, 1},
		{1, 1, 1, 0},
		{1, 0, 0, 1},
		{0, 1, 1, 1},
		{1, 1, 1, 0},
		{1, 0, 0, 1},
	}
	p2 = [15][4]int{
		{0, 1, 1, 2},
		{1, 2, 2, 2},
		{2, 2, 2, 0},
		{2, 0, 0, 2},
		{0, 2, 2, 1},
		{2, 1, 1, 1},
		{1, 1, 1, 0},
		{1, 0, 0, 1},
		{0, 1, 1, 2},
		{1, 2, 2, 2},
		{2, 2, 2, 0},
		{2, 0, 0, 2},
		{0, 2, 2, 1},
		{2, 1, 1, 1},
		{1, 1, 1, 0},
	}
}
